@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ═══════════════════════════════════════
   CHRONINOTES — DESIGN SYSTEM
   Dark glassmorphism · Indigo/Violet
═══════════════════════════════════════ */

:root {
  /* ── Background ── */
  --bg-base:        #060811;
  --bg-surface:     #0c0f1e;

  /* ── Glass ── */
  --glass-bg:       rgba(255, 255, 255, 0.05);
  --glass-bg-hover: rgba(255, 255, 255, 0.08);
  --glass-border:   rgba(255, 255, 255, 0.09);
  --glass-border-strong: rgba(255, 255, 255, 0.15);
  --glass-blur:     blur(20px) saturate(160%);
  --glass-shadow:   0 8px 32px rgba(0, 0, 0, 0.4);
  --glass-shadow-lg:0 16px 48px rgba(0, 0, 0, 0.5);

  /* ── Accent (Indigo/Violet) ── */
  --accent:         #818cf8;
  --accent-dim:     rgba(129, 140, 248, 0.15);
  --accent-border:  rgba(129, 140, 248, 0.30);
  --accent-glow:    rgba(129, 140, 248, 0.25);
  --glow-a:         #6366f1;
  --glow-b:         #8b5cf6;
  --glow-c:         #06b6d4;

  /* ── Text ── */
  --text-primary:   rgba(255, 255, 255, 0.92);
  --text-secondary: rgba(255, 255, 255, 0.55);
  --text-tertiary:  rgba(255, 255, 255, 0.28);
  --text-placeholder: rgba(255, 255, 255, 0.22);

  /* ── Status colors ── */
  --color-green:    #34d399;
  --color-blue:     #60a5fa;
  --color-pink:     #f472b6;
  --color-yellow:   #fbbf24;
  --color-red:      #f87171;

  /* ── Spacing ── */
  --spacing-xs:  0.25rem;
  --spacing-sm:  0.5rem;
  --spacing-md:  1rem;
  --spacing-lg:  1.5rem;
  --spacing-xl:  2rem;
  --spacing-2xl: 3rem;

  /* ── Typography ── */
  --font-size-xs:   0.70rem;
  --font-size-sm:   0.8125rem;
  --font-size-base: 0.9375rem;
  --font-size-lg:   1.125rem;
  --font-size-xl:   1.5rem;
  --font-size-2xl:  2rem;
  --font-size-3xl:  2.5rem;

  --line-height-tight:   1.25;
  --line-height-normal:  1.6;
  --line-height-relaxed: 1.75;

  /* ── Radius ── */
  --radius-sm:  0.375rem;
  --radius-md:  0.625rem;
  --radius-lg:  0.875rem;
  --radius-xl:  1.125rem;

  /* ── Font ── */
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  font-size: var(--font-size-base);
  line-height: var(--line-height-normal);
  font-weight: 400;

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ═══════════════════════════════════
   BASE RESETS
═══════════════════════════════════ */
*, *::before, *::after { box-sizing: border-box; }

body {
  margin: 0; padding: 0;
  min-height: 100vh;
  background-color: var(--bg-base);
  color: var(--text-primary);
  overflow: hidden;
}

#root {
  width: 100%; height: 100vh;
  display: flex; flex-direction: column;
  position: relative;
}

/* ═══════════════════════════════════
   ANIMATED BACKGROUND ORBS
═══════════════════════════════════ */
.bg-orbs {
  position: fixed; inset: 0;
  z-index: 0; overflow: hidden;
  pointer-events: none;
}

.bg-orb {
  position: absolute; border-radius: 50%;
  filter: blur(90px);
  animation: orbDrift 56s ease-in-out infinite alternate;
}

@keyframes orbDrift {
  0%   { transform: translate(0, 0) scale(1); }
  50%  { transform: translate(17.5px, 12.5px) scale(1.035); }
  100% { transform: translate(35px, 25px) scale(1.07); }
}

.bg-orb-1 {
  width: 500px; height: 500px;
  background: var(--glow-a);
  opacity: 0.18;
  top: -180px; left: -120px;
  animation-delay: 0s;
}

.bg-orb-2 {
  width: 420px; height: 420px;
  background: var(--glow-b);
  opacity: 0.15;
  bottom: -140px; right: -100px;
  animation-delay: -5s;
}

.bg-orb-3 {
  width: 280px; height: 280px;
  background: var(--glow-c);
  opacity: 0.10;
  top: 45%; left: 52%;
  animation-delay: -9s;
}

@keyframes orbDrift {
  0%   { transform: translate(0, 0) scale(1); }
  50%  { transform: translate(17.5px, 12.5px) scale(1.035); }
  100% { transform: translate(35px, 25px) scale(1.07); }
}

/* ═══════════════════════════════════
   GLASS UTILITY CLASSES
═══════════════════════════════════ */
.glass {
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
  box-shadow: var(--glass-shadow);
}

.glass-hover {
  transition: background 0.2s, border-color 0.2s, box-shadow 0.2s, transform 0.2s;
}
.glass-hover:hover {
  background: var(--glass-bg-hover);
  border-color: var(--glass-border-strong);
  box-shadow: var(--glass-shadow-lg);
  transform: translateY(-2px);
}

/* ═══════════════════════════════════
   TYPOGRAPHY
═══════════════════════════════════ */
h1 {
  font-size: var(--font-size-3xl);
  font-weight: 700;
  line-height: var(--line-height-tight);
  color: var(--text-primary);
  letter-spacing: -0.5px;
  margin: 0;
}
h2 {
  font-size: var(--font-size-2xl);
  font-weight: 700;
  line-height: var(--line-height-tight);
  color: var(--text-primary);
  letter-spacing: -0.3px;
  margin: 0;
}
h3 {
  font-size: var(--font-size-xl);
  font-weight: 600;
  line-height: var(--line-height-normal);
  color: var(--text-primary);
  margin: 0;
}
p { margin: 0; line-height: var(--line-height-relaxed); }

/* ═══════════════════════════════════
   BUTTONS — BASE
═══════════════════════════════════ */
button {
  border: none; background: none;
  font-family: inherit; cursor: pointer;
  transition: all 0.15s ease;
}
button:disabled { opacity: 0.45; cursor: not-allowed; }
button:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}

/* ═══════════════════════════════════
   SCROLLBAR
═══════════════════════════════════ */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb {
  background: var(--glass-border-strong);
  border-radius: 3px;
}
::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.25); }
* { scrollbar-width: thin; scrollbar-color: var(--glass-border-strong) transparent; }

/* ═══════════════════════════════════
   INPUTS
═══════════════════════════════════ */
input, select, textarea {
  font-family: inherit;
  font-size: var(--font-size-sm);
  color: var(--text-primary);
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  border-radius: var(--radius-md);
  transition: border-color 0.2s, box-shadow 0.2s;
}
input:focus, select:focus, textarea:focus {
  outline: none;
  border-color: var(--accent-border);
  box-shadow: 0 0 0 3px var(--accent-glow);
}
input::placeholder, textarea::placeholder {
  color: var(--text-placeholder);
}
select option {
  background: #1a1d2e;
  color: var(--text-primary);
}

/* ═══════════════════════════════════
   TIPTAP EDITOR
═══════════════════════════════════ */
.tiptap {
  outline: none;
  color: var(--text-primary);
  font-size: var(--font-size-base);
  line-height: var(--line-height-relaxed);
  caret-color: var(--accent);
}

.tiptap > * { margin-bottom: var(--spacing-md); }
.tiptap > *:last-child { margin-bottom: 0; }

/* Placeholder */
.tiptap p.is-editor-empty:first-child::before {
  content: attr(data-placeholder);
  color: var(--text-placeholder);
  pointer-events: none;
  float: left; height: 0;
}

/* Headings */
.tiptap h1 {
  font-size: var(--font-size-3xl); font-weight: 700;
  letter-spacing: -0.5px;
  margin-top: var(--spacing-xl); margin-bottom: var(--spacing-md);
  background: linear-gradient(135deg, var(--text-primary), var(--accent));
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  background-clip: text;
}
.tiptap h2 {
  font-size: var(--font-size-2xl); font-weight: 700;
  letter-spacing: -0.3px;
  margin-top: var(--spacing-lg); margin-bottom: var(--spacing-sm);
  color: var(--text-primary);
}
.tiptap h3 {
  font-size: var(--font-size-xl); font-weight: 600;
  margin-top: var(--spacing-lg); margin-bottom: var(--spacing-sm);
  color: var(--text-primary);
}

.tiptap p { color: var(--text-primary); }

/* Lists — FIXED visibility */
.tiptap ul, .tiptap ol {
  padding-left: var(--spacing-xl);
  margin: var(--spacing-md) 0;
}
.tiptap ul { list-style-type: disc; }
.tiptap ol { list-style-type: decimal; }
.tiptap li {
  margin: var(--spacing-sm) 0;
  padding-left: var(--spacing-xs);
  line-height: var(--line-height-relaxed);
  color: var(--text-primary);
}
.tiptap li::marker { color: var(--accent); font-weight: 600; }

/* Nested lists */
.tiptap ul ul, .tiptap ol ol,
.tiptap ul ol, .tiptap ol ul {
  margin-top: var(--spacing-xs);
  margin-bottom: var(--spacing-xs);
}

/* Code */
.tiptap pre {
  background: rgba(0, 0, 0, 0.4);
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(8px);
  color: #e2e8f0;
  padding: var(--spacing-lg);
  border-radius: var(--radius-lg);
  overflow-x: auto;
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  font-size: 0.875rem;
  line-height: 1.6;
  margin: var(--spacing-lg) 0;
}
.tiptap code {
  background: rgba(129, 140, 248, 0.12);
  color: var(--accent);
  padding: 0.15rem 0.4rem;
  border-radius: var(--radius-sm);
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  font-size: 0.875em;
  border: 1px solid var(--accent-border);
}
.tiptap pre code {
  background: transparent; color: inherit;
  padding: 0; border: none; font-size: inherit;
}

/* Blockquote */
.tiptap blockquote {
  border-left: 3px solid var(--accent);
  padding-left: var(--spacing-lg);
  margin: var(--spacing-lg) 0;
  color: var(--text-secondary);
  font-style: italic;
}

/* HR */
.tiptap hr {
  border: none;
  border-top: 1px solid var(--glass-border);
  margin: var(--spacing-xl) 0;
}

/* Strong / Em */
.tiptap strong { color: var(--text-primary); font-weight: 700; }
.tiptap em { color: var(--text-secondary); }

/* ═══════════════════════════════════
   PULSE ANIMATION
═══════════════════════════════════ */
@keyframes pulse-glow {
  0%, 100% { opacity: 1; box-shadow: 0 0 6px currentColor; }
  50%       { opacity: 0.5; box-shadow: 0 0 2px currentColor; }
}

/* ═══════════════════════════════════
   PAGE ENTER ANIMATION
═══════════════════════════════════ */
@keyframes pageEnter {
  from { opacity: 0; transform: translateY(8px); }
  to   { opacity: 1; transform: translateY(0); }
}
.page-enter {
  animation: pageEnter 0.3s ease forwards;
}

/* ═══════════════════════════════════
   CUSTOM TOPBAR WINDOW CONTROLS
═══════════════════════════════════ */
.window-control-btn {
  width: 46px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--text-secondary);
  background: transparent;
  border: none;
  cursor: pointer;
  transition: background 0.15s ease, color 0.15s ease;
}

.window-control-btn:hover {
  background: var(--glass-bg-hover);
  color: var(--text-primary);
}

.window-control-close:hover {
  background: #e81123;
  color: white;
}

/* Prevent text selection on drag */
.topbar {
  user-select: none;
  -webkit-user-select: none;
}

/* Menu slide in animation */
@keyframes menuSlideIn {
  from {
    opacity: 0;
    transform: translateY(-8px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* ═══════════════════════════════════
   MICRO-INTERACTION KEYFRAMES
═══════════════════════════════════ */

/* Logo + avatar gentle float */
@keyframes floatY {
  0%, 100% { transform: translateY(0px);   }
  50%       { transform: translateY(-3px); }
}

/* Dashboard banner star slow spin */
@keyframes spinSlow {
  from { transform: rotate(0deg);   }
  to   { transform: rotate(360deg); }
}

/* Task count badge pop when number changes */
@keyframes badgePop {
  0%   { transform: scale(0.7); opacity: 0.4; }
  60%  { transform: scale(1.2); opacity: 1; }
  100% { transform: scale(1);   opacity: 1; }
}

/* Sidebar nav item active indicator slide in */
@keyframes slideInBar {
  from { transform: scaleY(0); opacity: 0; }
  to   { transform: scaleY(1); opacity: 1; }
}

/* Card enter from below */
@keyframes cardEnter {
  from { opacity: 0; transform: translateY(12px) scale(0.98); }
  to   { opacity: 1; transform: translateY(0)   scale(1);    }
}